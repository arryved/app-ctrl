# nfpm example configuration file
#
# check https://nfpm.goreleaser.com/configuration for detailed usage
#
name: "app-controld"
arch: "amd64"
platform: "linux"

# TODO - source version from env and/or generate programmatically
version: "0.1.0"
section: "default"
priority: "extra"
replaces: []

provides:
- app-controld
depends:
- apt
recommends: []
suggests: []
conflicts: []

maintainer: "TODO(name) <todo@example.com>"
description: |
  This is an agent daemon for app-control, to provide
  status for apps that are deployed directly on VMs as
  opposed to containers.
vendor: "Arryved"
homepage: "https://arryved.pages.arryved.io/internal-documentation/groups/SRE/"
license: "MIT"

contents:
- src: ./app-controld
  dst: /usr/local/bin/app-controld
  file_info:
    mode: 0755
    owner: root
    group: root

# TODO - add systemd integration
# overrides:
  #deb:
  #  scripts:
  #    postinstall: ./scripts/postinstall.sh
  #    preremove: ./scripts/preremove.sh
